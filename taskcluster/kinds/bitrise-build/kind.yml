# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
---
loader: taskgraph.loader.transform:loader

transforms:
    - ffios_taskgraph.transforms.bitrise:transforms
    - ffios_taskgraph.transforms.secrets:transforms
    - taskgraph.transforms.run:transforms
    - taskgraph.transforms.task:transforms

tasks:
    firefox-ios:
        bitrise-pipeline: pipeline_multiple_shards
        description: Trigger Bitrise Pipeline on github events
            #optimization:
                #skip-unless-changed: []  # Paths are dynamically added by transforms
    firefox-ios-workflow:
        # random workflow from firefox repo to test this out
        bitrise-workflow: 1_git_clone_and_post_clone
        description: Trigger Bitrise Pipeline on github events
        optimization:
            skip-unless-changed: ['SampleBrowser/README.md']  # Paths are dynamically added by transforms
